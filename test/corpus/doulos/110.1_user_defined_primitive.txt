============================================
doulos/110.1_user_defined_primitive
============================================

// Section 110.1: User Defined Primitive

primitive Mux2to1 (f, a, b, sel);   // Combinational UDP
  output f;
  input a, b, sel;

  table
//  a b sel : f
    0 ?  0  : 0;
    1 ?  0  : 1;
    ? 0  1  : 0;
    ? 1  1  : 1;
    0 0  ?  : 0;
    1 1  ?  : 1;
  endtable

endprimitive



----

(source_file
  (comment)
  (module_or_generate_item
    (module_instantiation
      instance_type: (simple_identifier)
      (hierarchical_instance
        (name_of_instance
          instance_name: (instance_identifier
            (simple_identifier)))
        (list_of_port_connections
          (ordered_port_connection
            (expression
              (primary
                (hierarchical_identifier
                  (simple_identifier)))))
          (ordered_port_connection
            (expression
              (primary
                (hierarchical_identifier
                  (simple_identifier)))))
          (ordered_port_connection
            (expression
              (primary
                (hierarchical_identifier
                  (simple_identifier)))))
          (ordered_port_connection
            (expression
              (primary
                (hierarchical_identifier
                  (simple_identifier)))))))))
  (comment)
  (port_declaration
    (output_declaration
      (list_of_port_identifiers
        (port_identifier
          (simple_identifier)))))
  (port_declaration
    (input_declaration
      (list_of_port_identifiers
        (port_identifier
          (simple_identifier))
        (port_identifier
          (simple_identifier))
        (port_identifier
          (simple_identifier)))))
  (statement_or_null
    (statement
      (statement_item
        (subroutine_call_statement
          (subroutine_call
            (tf_call
              (hierarchical_identifier
                (simple_identifier))))
          (comment)
          (ERROR
            (primary
              (primary_literal
                (integral_number
                  (decimal_number
                    (unsigned_number))))))))))
  (ERROR
    (primary
      (primary_literal
        (integral_number
          (decimal_number
            (unsigned_number))))))
  (statement_or_null)
  (ERROR
    (unsigned_number)
    (unsigned_number))
  (port_declaration
    (interface_port_declaration
      (interface_identifier
        (simple_identifier))
      (list_of_interface_identifiers
        (interface_identifier
          (simple_identifier))))))

(ERROR)
