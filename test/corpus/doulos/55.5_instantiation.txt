============================================
doulos/55.5_instantiation
============================================

// Section 55.5: Instantiation

//The following example shows an array of instances
module Tristate8 (out, in, ena);
  output [7:0] out;
  input [7:0] in;
  input ena;

  bufif1 U1[7:0] (out, in, ena);

/* Equivalent (except the instance names) to /*...*/
  bufif1 U1_7 (out[7], in[7], ena);
  bufif1 U1_6 (out[6], in[6], ena);
  bufif1 U1_5 (out[5], in[5], ena);
  bufif1 U1_4 (out[4], in[4], ena);
  bufif1 U1_3 (out[3], in[3], ena);
  bufif1 U1_2 (out[2], in[2], ena);
  bufif1 U1_1 (out[1], in[1], ena);
  bufif1 U1_0 (out[0], in[0], ena);

endmodule



----

(source_file
  (comment)
  (comment)
  (module_declaration
    (module_nonansi_header
      (module_keyword)
      name: (simple_identifier)
      (list_of_ports
        (port1
          (port_reference
            (port_identifier
              (simple_identifier))))
        (port1
          (port_reference
            (port_identifier
              (simple_identifier))))
        (port1
          (port_reference
            (port_identifier
              (simple_identifier))))))
    (port_declaration
      (output_declaration
        (net_port_type1
          (data_type_or_implicit1
            (implicit_data_type1
              (packed_dimension
                (constant_range
                  (constant_expression
                    (constant_primary
                      (primary_literal
                        (integral_number
                          (decimal_number
                            (unsigned_number))))))
                  (constant_expression
                    (constant_primary
                      (primary_literal
                        (integral_number
                          (decimal_number
                            (unsigned_number)))))))))))
        (list_of_port_identifiers
          (port_identifier
            (simple_identifier)))))
    (port_declaration
      (input_declaration
        (net_port_type1
          (data_type_or_implicit1
            (implicit_data_type1
              (packed_dimension
                (constant_range
                  (constant_expression
                    (constant_primary
                      (primary_literal
                        (integral_number
                          (decimal_number
                            (unsigned_number))))))
                  (constant_expression
                    (constant_primary
                      (primary_literal
                        (integral_number
                          (decimal_number
                            (unsigned_number)))))))))))
        (list_of_port_identifiers
          (port_identifier
            (simple_identifier)))))
    (port_declaration
      (input_declaration
        (list_of_port_identifiers
          (port_identifier
            (simple_identifier)))))
    (module_or_generate_item
      (module_instantiation
        instance_type: (simple_identifier)
        (hierarchical_instance
          (name_of_instance
            instance_name: (instance_identifier
              (simple_identifier))
            (unpacked_dimension
              (constant_range
                (constant_expression
                  (constant_primary
                    (primary_literal
                      (integral_number
                        (decimal_number
                          (unsigned_number))))))
                (constant_expression
                  (constant_primary
                    (primary_literal
                      (integral_number
                        (decimal_number
                          (unsigned_number)))))))))
          (list_of_port_connections
            (ordered_port_connection
              (expression
                (primary
                  (hierarchical_identifier
                    (simple_identifier)))))
            (ordered_port_connection
              (expression
                (primary
                  (hierarchical_identifier
                    (simple_identifier)))))
            (ordered_port_connection
              (expression
                (primary
                  (hierarchical_identifier
                    (simple_identifier)))))))))
    (comment)
    (module_or_generate_item
      (module_instantiation
        instance_type: (simple_identifier)
        (hierarchical_instance
          (name_of_instance
            instance_name: (instance_identifier
              (simple_identifier)))
          (list_of_port_connections
            (ordered_port_connection
              (expression
                (primary
                  (hierarchical_identifier
                    (simple_identifier))
                  (select1
                    (bit_select1
                      (expression
                        (primary
                          (primary_literal
                            (integral_number
                              (decimal_number
                                (unsigned_number)))))))))))
            (ordered_port_connection
              (expression
                (primary
                  (hierarchical_identifier
                    (simple_identifier))
                  (select1
                    (bit_select1
                      (expression
                        (primary
                          (primary_literal
                            (integral_number
                              (decimal_number
                                (unsigned_number)))))))))))
            (ordered_port_connection
              (expression
                (primary
                  (hierarchical_identifier
                    (simple_identifier)))))))))
    (module_or_generate_item
      (module_instantiation
        instance_type: (simple_identifier)
        (hierarchical_instance
          (name_of_instance
            instance_name: (instance_identifier
              (simple_identifier)))
          (list_of_port_connections
            (ordered_port_connection
              (expression
                (primary
                  (hierarchical_identifier
                    (simple_identifier))
                  (select1
                    (bit_select1
                      (expression
                        (primary
                          (primary_literal
                            (integral_number
                              (decimal_number
                                (unsigned_number)))))))))))
            (ordered_port_connection
              (expression
                (primary
                  (hierarchical_identifier
                    (simple_identifier))
                  (select1
                    (bit_select1
                      (expression
                        (primary
                          (primary_literal
                            (integral_number
                              (decimal_number
                                (unsigned_number)))))))))))
            (ordered_port_connection
              (expression
                (primary
                  (hierarchical_identifier
                    (simple_identifier)))))))))
    (module_or_generate_item
      (module_instantiation
        instance_type: (simple_identifier)
        (hierarchical_instance
          (name_of_instance
            instance_name: (instance_identifier
              (simple_identifier)))
          (list_of_port_connections
            (ordered_port_connection
              (expression
                (primary
                  (hierarchical_identifier
                    (simple_identifier))
                  (select1
                    (bit_select1
                      (expression
                        (primary
                          (primary_literal
                            (integral_number
                              (decimal_number
                                (unsigned_number)))))))))))
            (ordered_port_connection
              (expression
                (primary
                  (hierarchical_identifier
                    (simple_identifier))
                  (select1
                    (bit_select1
                      (expression
                        (primary
                          (primary_literal
                            (integral_number
                              (decimal_number
                                (unsigned_number)))))))))))
            (ordered_port_connection
              (expression
                (primary
                  (hierarchical_identifier
                    (simple_identifier)))))))))
    (module_or_generate_item
      (module_instantiation
        instance_type: (simple_identifier)
        (hierarchical_instance
          (name_of_instance
            instance_name: (instance_identifier
              (simple_identifier)))
          (list_of_port_connections
            (ordered_port_connection
              (expression
                (primary
                  (hierarchical_identifier
                    (simple_identifier))
                  (select1
                    (bit_select1
                      (expression
                        (primary
                          (primary_literal
                            (integral_number
                              (decimal_number
                                (unsigned_number)))))))))))
            (ordered_port_connection
              (expression
                (primary
                  (hierarchical_identifier
                    (simple_identifier))
                  (select1
                    (bit_select1
                      (expression
                        (primary
                          (primary_literal
                            (integral_number
                              (decimal_number
                                (unsigned_number)))))))))))
            (ordered_port_connection
              (expression
                (primary
                  (hierarchical_identifier
                    (simple_identifier)))))))))
    (module_or_generate_item
      (module_instantiation
        instance_type: (simple_identifier)
        (hierarchical_instance
          (name_of_instance
            instance_name: (instance_identifier
              (simple_identifier)))
          (list_of_port_connections
            (ordered_port_connection
              (expression
                (primary
                  (hierarchical_identifier
                    (simple_identifier))
                  (select1
                    (bit_select1
                      (expression
                        (primary
                          (primary_literal
                            (integral_number
                              (decimal_number
                                (unsigned_number)))))))))))
            (ordered_port_connection
              (expression
                (primary
                  (hierarchical_identifier
                    (simple_identifier))
                  (select1
                    (bit_select1
                      (expression
                        (primary
                          (primary_literal
                            (integral_number
                              (decimal_number
                                (unsigned_number)))))))))))
            (ordered_port_connection
              (expression
                (primary
                  (hierarchical_identifier
                    (simple_identifier)))))))))
    (module_or_generate_item
      (module_instantiation
        instance_type: (simple_identifier)
        (hierarchical_instance
          (name_of_instance
            instance_name: (instance_identifier
              (simple_identifier)))
          (list_of_port_connections
            (ordered_port_connection
              (expression
                (primary
                  (hierarchical_identifier
                    (simple_identifier))
                  (select1
                    (bit_select1
                      (expression
                        (primary
                          (primary_literal
                            (integral_number
                              (decimal_number
                                (unsigned_number)))))))))))
            (ordered_port_connection
              (expression
                (primary
                  (hierarchical_identifier
                    (simple_identifier))
                  (select1
                    (bit_select1
                      (expression
                        (primary
                          (primary_literal
                            (integral_number
                              (decimal_number
                                (unsigned_number)))))))))))
            (ordered_port_connection
              (expression
                (primary
                  (hierarchical_identifier
                    (simple_identifier)))))))))
    (module_or_generate_item
      (module_instantiation
        instance_type: (simple_identifier)
        (hierarchical_instance
          (name_of_instance
            instance_name: (instance_identifier
              (simple_identifier)))
          (list_of_port_connections
            (ordered_port_connection
              (expression
                (primary
                  (hierarchical_identifier
                    (simple_identifier))
                  (select1
                    (bit_select1
                      (expression
                        (primary
                          (primary_literal
                            (integral_number
                              (decimal_number
                                (unsigned_number)))))))))))
            (ordered_port_connection
              (expression
                (primary
                  (hierarchical_identifier
                    (simple_identifier))
                  (select1
                    (bit_select1
                      (expression
                        (primary
                          (primary_literal
                            (integral_number
                              (decimal_number
                                (unsigned_number)))))))))))
            (ordered_port_connection
              (expression
                (primary
                  (hierarchical_identifier
                    (simple_identifier)))))))))
    (module_or_generate_item
      (module_instantiation
        instance_type: (simple_identifier)
        (hierarchical_instance
          (name_of_instance
            instance_name: (instance_identifier
              (simple_identifier)))
          (list_of_port_connections
            (ordered_port_connection
              (expression
                (primary
                  (hierarchical_identifier
                    (simple_identifier))
                  (select1
                    (bit_select1
                      (expression
                        (primary
                          (primary_literal
                            (integral_number
                              (decimal_number
                                (unsigned_number)))))))))))
            (ordered_port_connection
              (expression
                (primary
                  (hierarchical_identifier
                    (simple_identifier))
                  (select1
                    (bit_select1
                      (expression
                        (primary
                          (primary_literal
                            (integral_number
                              (decimal_number
                                (unsigned_number)))))))))))
            (ordered_port_connection
              (expression
                (primary
                  (hierarchical_identifier
                    (simple_identifier)))))))))))
