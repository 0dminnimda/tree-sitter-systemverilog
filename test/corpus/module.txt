============================================
base/module - without io
============================================

module mod;
endmodule

----

    (source_file
      (module_declaration
        (module_ansi_header
          (module_keyword)
          (simple_identifier))))

============================================
base/module - with empty io
============================================

module mod (); endmodule

----

    (source_file
      (module_declaration
        (module_nonansi_header
          (module_keyword)
          (simple_identifier)
          (list_of_ports))))

============================================
base/module - with empty parameters and empty io
============================================

module mod #()();
endmodule

----

    (source_file
      (module_declaration
        (module_nonansi_header
          (module_keyword)
          (simple_identifier)
          (parameter_port_list)
          (list_of_ports))))

============================================
base/module - with parameter and empty io
============================================

module mod #(
  parameter A=5
)();

endmodule

----

    (source_file
      (module_declaration
        (module_nonansi_header
          (module_keyword)
          (simple_identifier)
          (parameter_port_list
            (parameter_port_declaration
              (parameter_declaration
                (list_of_param_assignments
                  (param_assignment
                    (parameter_identifier
                      (simple_identifier))
                    (constant_param_expression
                      (constant_mintypmax_expression
                        (constant_expression
                          (constant_primary
                            (primary_literal
                              (integral_number
                                (decimal_number
                                  (unsigned_number)))))))))))))
          (list_of_ports))))


============================================
base/module - with parameters and empty io
============================================

module mod #(
  parameter A=5,
  parameter B=10
)();

endmodule

----

    (source_file
      (module_declaration
        (module_nonansi_header
          (module_keyword)
          (simple_identifier)
          (parameter_port_list
            (parameter_port_declaration
              (parameter_declaration
                (list_of_param_assignments
                  (param_assignment
                    (parameter_identifier
                      (simple_identifier))
                    (constant_param_expression
                      (constant_mintypmax_expression
                        (constant_expression
                          (constant_primary
                            (primary_literal
                              (integral_number
                                (decimal_number
                                  (unsigned_number))))))))))))
            (parameter_port_declaration
              (parameter_declaration
                (list_of_param_assignments
                  (param_assignment
                    (parameter_identifier
                      (simple_identifier))
                    (constant_param_expression
                      (constant_mintypmax_expression
                        (constant_expression
                          (constant_primary
                            (primary_literal
                              (integral_number
                                (decimal_number
                                  (unsigned_number)))))))))))))
          (list_of_ports))))


============================================
base/module - with list of parameters and empty io
============================================

module mod #(
  parameter A=5,
            B=10
)();

endmodule

----

    (source_file
      (module_declaration
        (module_nonansi_header
          (module_keyword)
          (simple_identifier)
          (parameter_port_list
            (parameter_port_declaration
              (parameter_declaration
                (list_of_param_assignments
                  (param_assignment
                    (parameter_identifier
                      (simple_identifier))
                    (constant_param_expression
                      (constant_mintypmax_expression
                        (constant_expression
                          (constant_primary
                            (primary_literal
                              (integral_number
                                (decimal_number
                                  (unsigned_number)))))))))
                  (param_assignment
                    (parameter_identifier
                      (simple_identifier))
                    (constant_param_expression
                      (constant_mintypmax_expression
                        (constant_expression
                          (constant_primary
                            (primary_literal
                              (integral_number
                                (decimal_number
                                  (unsigned_number)))))))))))))
          (list_of_ports))))


============================================
base/module - with list of parameters, parameter/localparam and empty io
============================================

module mod #(
  parameter A=5,
            B=10,
  parameter C=15,
  localparam D=10
)();

endmodule

----

    (source_file
      (module_declaration
        (module_nonansi_header
          (module_keyword)
          (simple_identifier)
          (parameter_port_list
            (parameter_port_declaration
              (parameter_declaration
                (list_of_param_assignments
                  (param_assignment
                    (parameter_identifier
                      (simple_identifier))
                    (constant_param_expression
                      (constant_mintypmax_expression
                        (constant_expression
                          (constant_primary
                            (primary_literal
                              (integral_number
                                (decimal_number
                                  (unsigned_number)))))))))
                  (param_assignment
                    (parameter_identifier
                      (simple_identifier))
                    (constant_param_expression
                      (constant_mintypmax_expression
                        (constant_expression
                          (constant_primary
                            (primary_literal
                              (integral_number
                                (decimal_number
                                  (unsigned_number))))))))))))
            (parameter_port_declaration
              (parameter_declaration
                (list_of_param_assignments
                  (param_assignment
                    (parameter_identifier
                      (simple_identifier))
                    (constant_param_expression
                      (constant_mintypmax_expression
                        (constant_expression
                          (constant_primary
                            (primary_literal
                              (integral_number
                                (decimal_number
                                  (unsigned_number))))))))))))
            (parameter_port_declaration
              (local_parameter_declaration
                (list_of_param_assignments
                  (param_assignment
                    (parameter_identifier
                      (simple_identifier))
                    (constant_param_expression
                      (constant_mintypmax_expression
                        (constant_expression
                          (constant_primary
                            (primary_literal
                              (integral_number
                                (decimal_number
                                  (unsigned_number)))))))))))))
          (list_of_ports))))


============================================
base/module - with parameters/localparam with expr and empty io
============================================

module mod #(
  parameter  A = 5,
  localparam B = 32/4
)();

endmodule

----

    (source_file
      (module_declaration
        (module_nonansi_header
          (module_keyword)
          (simple_identifier)
          (parameter_port_list
            (parameter_port_declaration
              (parameter_declaration
                (list_of_param_assignments
                  (param_assignment
                    (parameter_identifier
                      (simple_identifier))
                    (constant_param_expression
                      (constant_mintypmax_expression
                        (constant_expression
                          (constant_primary
                            (primary_literal
                              (integral_number
                                (decimal_number
                                  (unsigned_number))))))))))))
            (parameter_port_declaration
              (local_parameter_declaration
                (list_of_param_assignments
                  (param_assignment
                    (parameter_identifier
                      (simple_identifier))
                    (constant_param_expression
                      (constant_mintypmax_expression
                        (constant_expression
                          (constant_expression
                            (constant_primary
                              (primary_literal
                                (integral_number
                                  (decimal_number
                                    (unsigned_number))))))
                          (constant_expression
                            (constant_primary
                              (primary_literal
                                (integral_number
                                  (decimal_number
                                    (unsigned_number))))))))))))))
          (list_of_ports))))


============================================
base/module - with parameter type and empty io
============================================

module mod #(
  parameter type T=logic
)();

endmodule

----

    (source_file
      (module_declaration
        (module_nonansi_header
          (module_keyword)
          (simple_identifier)
          (parameter_port_list
            (parameter_port_declaration
              (parameter_declaration
                (type_parameter_declaration
                  (list_of_type_assignments
                    (type_assignment
                      (simple_identifier)
                      (data_type
                        (integer_vector_type))))))))
          (list_of_ports))))


============================================
base/module - with parameters type and empty io
============================================

module mod #(
  parameter type T=logic,
  parameter type Q=bit
)();

endmodule

----

    (source_file
      (module_declaration
        (module_nonansi_header
          (module_keyword)
          (simple_identifier)
          (parameter_port_list
            (parameter_port_declaration
              (parameter_declaration
                (type_parameter_declaration
                  (list_of_type_assignments
                    (type_assignment
                      (simple_identifier)
                      (data_type
                        (integer_vector_type)))))))
            (parameter_port_declaration
              (parameter_declaration
                (type_parameter_declaration
                  (list_of_type_assignments
                    (type_assignment
                      (simple_identifier)
                      (data_type
                        (integer_vector_type))))))))
          (list_of_ports))))


============================================
base/module - with list of parameters type and empty io
============================================

module mod #(
  parameter type T = logic,
                 Q = bit
)();

endmodule

----

    (source_file
      (module_declaration
        (module_nonansi_header
          (module_keyword)
          (simple_identifier)
          (parameter_port_list
            (parameter_port_declaration
              (parameter_declaration
                (type_parameter_declaration
                  (list_of_type_assignments
                    (type_assignment
                      (simple_identifier)
                      (data_type
                        (integer_vector_type)))
                    (type_assignment
                      (simple_identifier)
                      (data_type
                        (integer_vector_type))))))))
          (list_of_ports))))


============================================
base/module - with list of parameters type, parameter/localparam and empty io
============================================

module mod #(
  parameter type T=logic,
                 Q=bit,
  parameter type A = int,
  localparam type D = int
)();

endmodule

----

    (source_file
      (module_declaration
        (module_nonansi_header
          (module_keyword)
          (simple_identifier)
          (parameter_port_list
            (parameter_port_declaration
              (parameter_declaration
                (type_parameter_declaration
                  (list_of_type_assignments
                    (type_assignment
                      (simple_identifier)
                      (data_type
                        (integer_vector_type)))
                    (type_assignment
                      (simple_identifier)
                      (data_type
                        (integer_vector_type)))))))
            (parameter_port_declaration
              (parameter_declaration
                (type_parameter_declaration
                  (list_of_type_assignments
                    (type_assignment
                      (simple_identifier)
                      (data_type
                        (integer_atom_type)))))))
            (parameter_port_declaration
              (local_parameter_declaration
                (type_parameter_declaration
                  (list_of_type_assignments
                    (type_assignment
                      (simple_identifier)
                      (data_type
                        (integer_atom_type))))))))
          (list_of_ports))))


============================================
base/module - empty with nonANSI io
============================================

module mod (clk);
  input clk;
endmodule

----

    (source_file
      (module_declaration
        (module_nonansi_header
          (module_keyword)
          (simple_identifier)
          (list_of_ports
            (port1
              (port_reference
                (port_identifier
                  (simple_identifier))))))
        (port_declaration
          (input_declaration
            (list_of_port_identifiers
              (port_identifier
                (simple_identifier)))))))

============================================
base/module - empty with nonANSI ios
============================================

module mod (clk, reset_n, inp, a, b);

input clk;
input clk0, clk1;
input [W-1:0] inp;
output [3:0] a, b;
output foo, bar;
output baz;
input mytype bus1;

endmodule

----

    (source_file
      (module_declaration
        (module_nonansi_header
          (module_keyword)
          (simple_identifier)
          (list_of_ports
            (port1
              (port_reference
                (port_identifier
                  (simple_identifier))))
            (port1
              (port_reference
                (port_identifier
                  (simple_identifier))))
            (port1
              (port_reference
                (port_identifier
                  (simple_identifier))))
            (port1
              (port_reference
                (port_identifier
                  (simple_identifier))))
            (port1
              (port_reference
                (port_identifier
                  (simple_identifier))))))
        (port_declaration
          (input_declaration
            (list_of_port_identifiers
              (port_identifier
                (simple_identifier)))))
        (port_declaration
          (input_declaration
            (list_of_port_identifiers
              (port_identifier
                (simple_identifier))
              (port_identifier
                (simple_identifier)))))
        (port_declaration
          (input_declaration
            (net_port_type1
              (data_type_or_implicit1
                (implicit_data_type1
                  (packed_dimension
                    (constant_range
                      (constant_expression
                        (constant_expression
                          (constant_primary
                            (parameter_identifier
                              (simple_identifier))))
                        (constant_expression
                          (constant_primary
                            (primary_literal
                              (integral_number
                                (decimal_number
                                  (unsigned_number)))))))
                      (constant_expression
                        (constant_primary
                          (primary_literal
                            (integral_number
                              (decimal_number
                                (unsigned_number)))))))))))
            (list_of_port_identifiers
              (port_identifier
                (simple_identifier)))))
        (port_declaration
          (output_declaration
            (net_port_type1
              (data_type_or_implicit1
                (implicit_data_type1
                  (packed_dimension
                    (constant_range
                      (constant_expression
                        (constant_primary
                          (primary_literal
                            (integral_number
                              (decimal_number
                                (unsigned_number))))))
                      (constant_expression
                        (constant_primary
                          (primary_literal
                            (integral_number
                              (decimal_number
                                (unsigned_number)))))))))))
            (list_of_port_identifiers
              (port_identifier
                (simple_identifier))
              (port_identifier
                (simple_identifier)))))
        (port_declaration
          (output_declaration
            (list_of_port_identifiers
              (port_identifier
                (simple_identifier))
              (port_identifier
                (simple_identifier)))))
        (port_declaration
          (output_declaration
            (list_of_port_identifiers
              (port_identifier
                (simple_identifier)))))
        (port_declaration
          (input_declaration
            (data_type
              (simple_identifier))
            (list_of_variable_identifiers
              (simple_identifier))))))

============================================
base/module - empty with ANSI io
============================================

module mod (output out);
endmodule

----

    (source_file
      (module_declaration
        (module_ansi_header
          (module_keyword)
          (simple_identifier)
          (list_of_port_declarations
            (ansi_port_declaration
              (net_port_header1
                (port_direction))
              (port_identifier
                (simple_identifier)))))))

============================================
base/module - with ANSI ios
============================================

module mod (
  input foo,
  input [3:0] bar,
  output logic [3:0] qux,
  input br_pkt_t dec_i0_brp,
  input wire ham
);

endmodule

----

    (source_file
      (module_declaration
        (module_ansi_header
          (module_keyword)
          (simple_identifier)
          (list_of_port_declarations
            (ansi_port_declaration
              (net_port_header1
                (port_direction))
              (port_identifier
                (simple_identifier)))
            (ansi_port_declaration
              (net_port_header1
                (port_direction)
                (net_port_type1
                  (data_type_or_implicit1
                    (implicit_data_type1
                      (packed_dimension
                        (constant_range
                          (constant_expression
                            (constant_primary
                              (primary_literal
                                (integral_number
                                  (decimal_number
                                    (unsigned_number))))))
                          (constant_expression
                            (constant_primary
                              (primary_literal
                                (integral_number
                                  (decimal_number
                                    (unsigned_number))))))))))))
              (port_identifier
                (simple_identifier)))
            (ansi_port_declaration
              (variable_port_header
                (port_direction)
                (data_type
                  (integer_vector_type)
                  (packed_dimension
                    (constant_range
                      (constant_expression
                        (constant_primary
                          (primary_literal
                            (integral_number
                              (decimal_number
                                (unsigned_number))))))
                      (constant_expression
                        (constant_primary
                          (primary_literal
                            (integral_number
                              (decimal_number
                                (unsigned_number))))))))))
              (port_identifier
                (simple_identifier)))
            (ansi_port_declaration
              (variable_port_header
                (port_direction)
                (data_type
                  (simple_identifier)))
              (port_identifier
                (simple_identifier)))
            (ansi_port_declaration
              (net_port_header1
                (port_direction)
                (net_port_type1
                  (net_type)))
              (port_identifier
                (simple_identifier)))))))

============================================
base/module - with parameters and ios
============================================

module mod #(
  parameter A = 5
)(
  output reg [A - 1 : 0] out
  // output reg [(A - 1): 0] out
);

endmodule

----

    (source_file
      (module_declaration
        (module_ansi_header
          (module_keyword)
          (simple_identifier)
          (parameter_port_list
            (parameter_port_declaration
              (parameter_declaration
                (list_of_param_assignments
                  (param_assignment
                    (parameter_identifier
                      (simple_identifier))
                    (constant_param_expression
                      (constant_mintypmax_expression
                        (constant_expression
                          (constant_primary
                            (primary_literal
                              (integral_number
                                (decimal_number
                                  (unsigned_number)))))))))))))
          (list_of_port_declarations
            (ansi_port_declaration
              (variable_port_header
                (port_direction)
                (data_type
                  (integer_vector_type)
                  (packed_dimension
                    (constant_range
                      (constant_expression
                        (constant_expression
                          (constant_primary
                            (parameter_identifier
                              (simple_identifier))))
                        (constant_expression
                          (constant_primary
                            (primary_literal
                              (integral_number
                                (decimal_number
                                  (unsigned_number)))))))
                      (constant_expression
                        (constant_primary
                          (primary_literal
                            (integral_number
                              (decimal_number
                                (unsigned_number))))))))))
              (port_identifier
                (simple_identifier)))
            (comment)))))

============================================
base/module - with parameter expression
============================================

module mod #(
  parameter P1 = 32,
  parameter P2 = P1,
  parameter P3 = (1 * P1)
)();

endmodule

----

    (source_file
      (module_declaration
        (module_nonansi_header
          (module_keyword)
          (simple_identifier)
          (parameter_port_list
            (parameter_port_declaration
              (parameter_declaration
                (list_of_param_assignments
                  (param_assignment
                    (parameter_identifier
                      (simple_identifier))
                    (constant_param_expression
                      (constant_mintypmax_expression
                        (constant_expression
                          (constant_primary
                            (primary_literal
                              (integral_number
                                (decimal_number
                                  (unsigned_number))))))))))))
            (parameter_port_declaration
              (parameter_declaration
                (list_of_param_assignments
                  (param_assignment
                    (parameter_identifier
                      (simple_identifier))
                    (constant_param_expression
                      (constant_mintypmax_expression
                        (constant_expression
                          (constant_primary
                            (parameter_identifier
                              (simple_identifier))))))))))
            (parameter_port_declaration
              (parameter_declaration
                (list_of_param_assignments
                  (param_assignment
                    (parameter_identifier
                      (simple_identifier))
                    (constant_param_expression
                      (constant_mintypmax_expression
                        (constant_expression
                          (constant_primary
                            (constant_mintypmax_expression
                              (constant_expression
                                (constant_expression
                                  (constant_primary
                                    (primary_literal
                                      (integral_number
                                        (decimal_number
                                          (unsigned_number))))))
                                (constant_expression
                                  (constant_primary
                                    (parameter_identifier
                                      (simple_identifier)))))))))))))))
          (list_of_ports))))



