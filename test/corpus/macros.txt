============================================
basic/macros - simple
============================================

`some_macro(arg1)

----

    (source_file
      (text_macro_usage
        (text_macro_identifier
          (simple_identifier))
        (text_macro_list_of_actual_arguments
          (text_macro_actual_argument
            (param_expression
              (mintypmax_expression
                (expression
                  (primary
                    (hierarchical_identifier
                      (simple_identifier))))))))))

============================================
basic/macros - two args
============================================

`some_macro(arg1, arg2)

----

    (source_file
      (text_macro_usage
        (text_macro_identifier
          (simple_identifier))
        (text_macro_list_of_actual_arguments
          (text_macro_actual_argument
            (param_expression
              (mintypmax_expression
                (expression
                  (primary
                    (hierarchical_identifier
                      (simple_identifier)))))))
          (text_macro_actual_argument
            (param_expression
              (mintypmax_expression
                (expression
                  (primary
                    (hierarchical_identifier
                      (simple_identifier))))))))))


============================================
basic/macros - nested parenthesis
============================================

`some_macro(arg1(), arg2())

----

    (source_file
      (text_macro_usage
        (text_macro_identifier
          (simple_identifier))
        (text_macro_list_of_actual_arguments
          (text_macro_actual_argument
            (param_expression
              (mintypmax_expression
                (expression
                  (primary
                    (function_subroutine_call
                      (subroutine_call
                        (tf_call
                          (hierarchical_identifier
                            (simple_identifier))))))))))
          (text_macro_actual_argument
            (param_expression
              (mintypmax_expression
                (expression
                  (primary
                    (function_subroutine_call
                      (subroutine_call
                        (tf_call
                          (hierarchical_identifier
                            (simple_identifier)))))))))))))


============================================
basic/macros - inside function
============================================

function void foo;
  `some_macro(arg1)
endfunction

----

    (source_file
      (package_or_generate_item_declaration
        (function_declaration
          (function_body_declaration
            (function_data_type_or_implicit1
              (data_type_or_void))
            (function_identifier
              (function_identifier
                (simple_identifier)))
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (text_macro_usage
                      (text_macro_identifier
                        (simple_identifier))
                      (text_macro_list_of_actual_arguments
                        (text_macro_actual_argument
                          (param_expression
                            (mintypmax_expression
                              (expression
                                (primary
                                  (hierarchical_identifier
                                    (simple_identifier)))))))))))))))))

============================================
basic/macros - on hierarchical identifier
============================================

function void foo;
  `MY_MACRO.identifier = 0;
endfunction

----

    (source_file
      (package_or_generate_item_declaration
        (function_declaration
          (function_body_declaration
            (function_data_type_or_implicit1
              (data_type_or_void))
            (function_identifier
              (function_identifier
                (simple_identifier)))
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (blocking_assignment
                      (operator_assignment
                        (variable_lvalue
                          (hierarchical_identifier
                            (text_macro_usage
                              (text_macro_identifier
                                (simple_identifier)))
                            (simple_identifier)))
                        (assignment_operator)
                        (expression
                          (primary
                            (primary_literal
                              (integral_number
                                (decimal_number
                                  (unsigned_number))))))))))))))))

============================================
basic/macros - on hierarchical identifier in the middle
============================================

function void foo;
  top.`MY_MACRO.member = 0;
endfunction

----

    (source_file
      (package_or_generate_item_declaration
        (function_declaration
          (function_body_declaration
            (function_data_type_or_implicit1
              (data_type_or_void))
            (function_identifier
              (function_identifier
                (simple_identifier)))
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (blocking_assignment
                      (operator_assignment
                        (variable_lvalue
                          (hierarchical_identifier
                            (simple_identifier)
                            (text_macro_usage
                              (text_macro_identifier
                                (simple_identifier)))
                            (simple_identifier)))
                        (assignment_operator)
                        (expression
                          (primary
                            (primary_literal
                              (integral_number
                                (decimal_number
                                  (unsigned_number))))))))))))))))

============================================
basic/macros - on hierarchical identifier with select
============================================

function void foo;
  `MY_MACRO.identifier[0].member = 0;
endfunction

----

    (source_file
      (package_or_generate_item_declaration
        (function_declaration
          (function_body_declaration
            (function_data_type_or_implicit1
              (data_type_or_void))
            (function_identifier
              (function_identifier
                (simple_identifier)))
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (blocking_assignment
                      (operator_assignment
                        (variable_lvalue
                          (hierarchical_identifier
                            (text_macro_usage
                              (text_macro_identifier
                                (simple_identifier)))
                            (simple_identifier)
                            (constant_bit_select1
                              (constant_expression
                                (constant_primary
                                  (primary_literal
                                    (integral_number
                                      (decimal_number
                                        (unsigned_number)))))))
                            (simple_identifier)))
                        (assignment_operator)
                        (expression
                          (primary
                            (primary_literal
                              (integral_number
                                (decimal_number
                                  (unsigned_number))))))))))))))))

============================================
basic/macros - on function/task/method
============================================

function void foo;
  `MY_MACRO.method_call();
endfunction

----

    (source_file
      (package_or_generate_item_declaration
        (function_declaration
          (function_body_declaration
            (function_data_type_or_implicit1
              (data_type_or_void))
            (function_identifier
              (function_identifier
                (simple_identifier)))
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (subroutine_call_statement
                      (subroutine_call
                        (tf_call
                          (hierarchical_identifier
                            (text_macro_usage
                              (text_macro_identifier
                                (simple_identifier)))
                            (simple_identifier)))))))))))))
